<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FactLens 明鉴AI - 四维分析</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Noto+Sans+SC:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root{--primary-color:#1a1d29;--secondary-color:#6b7280;--accent-color:#3b82f6;--fact-color:#1e40af;--opinion-color:#059669;--bias-color:#dc2626;--bg-color:#ffffff;--text-color:#111827}
    body{font-family:'Noto Sans SC',sans-serif;background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);min-height:100vh}
    .hero-title{font-family:'Noto Serif SC',serif;font-weight:700;background:linear-gradient(135deg,var(--accent-color),#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .analysis-card{background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 32px rgba(0,0,0,.1)}
    .url-input{@apply w-full px-4 py-3 pr-12 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none;border:2px solid #e5e7eb;transition:all .3s ease}
    .url-input:focus{border-color:var(--accent-color);box-shadow:0 0 0 3px rgba(59,130,246,.1)}
    .analyze-btn{@apply w-full lg:w-auto px-12 py-4 text-white font-semibold rounded-lg flex items-center justify-center space-x-2 text-lg; background:linear-gradient(135deg,var(--accent-color),#8b5cf6);transition:all .3s ease}
    .analyze-btn:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(59,130,246,.3)}
    .loading-spinner{animation:spin 1s linear infinite}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    .fade-in{animation:fadeIn .5s ease-in}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    .section-fact{border-left:4px solid var(--fact-color)}.section-opinion{border-left:4px solid var(--opinion-color)}.section-bias{border-left:4px solid var(--bias-color)}
    .mono-font{font-family:'JetBrains Mono',monospace}
  </style>
</head>
<body class="text-gray-900">
  <nav class="bg-white/80 backdrop-blur-md border-b border-gray-200/50 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-3">
          <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center"><i class="fas fa-search text-white text-sm"></i></div>
          <h1 class="text-xl font-semibold text-gray-900">FactLens 明鉴AI</h1>
        </div>
        <div class="flex space-x-6"><a href="#" class="text-gray-600 hover:text-blue-600 transition-colors">首页</a><a href="#" class="text-gray-600 hover:text-blue-600 transition-colors">关于</a><a href="#" class="text-gray-600 hover:text-blue-600 transition-colors">示例</a></div>
      </div>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-12">
      <h1 class="hero-title text-4xl md:text-6xl font-bold mb-4">明鉴AI深度分析</h1>
      <p class="text-2xl text-gray-800 font-medium mb-4">明鉴事实，洞见观点</p>
      <p class="text-lg text-gray-600 max-w-3xl mx-auto mb-8">输入网址，即刻获得「事实-观点-偏见」三色拆解报告</p>
    </div>

    <!-- INPUT -->
    <div class="analysis-card rounded-2xl p-8 mb-8">
      <label for="url-input" class="block text-sm font-medium text-gray-700 mb-2"><i class="fas fa-link mr-2 text-blue-500"></i>输入要分析的网页URL</label>
      <div class="relative">
        <input type="url" id="url-input" placeholder="https://example.com/article" class="url-input w-full px-4 py-3 pr-12 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none">
        <button id="clear-btn" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 hidden"><i class="fas fa-times-circle"></i></button>
      </div>
      <div class="relative flex items-center justify-center my-6"><div class="w-full border-t border-gray-300"></div><div class="relative bg-white px-4"><span class="text-sm text-gray-500">或</span></div></div>

      <label for="text-input" class="block text-sm font-medium text-gray-700 mb-2"><i class="fas fa-file-alt mr-2 text-green-500"></i>粘贴文本内容进行分析</label>
      <textarea id="text-input" rows="6" placeholder="在此粘贴您要分析的文本内容..." class="w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-green-500 focus:outline-none resize-none"></textarea>
      <div class="flex justify-between items-center mt-2"><div class="text-xs text-gray-500">支持直接粘贴文本内容进行分析</div><button id="clear-text-btn" class="text-xs text-gray-400 hover:text-gray-600 hidden"><i class="fas fa-times mr-1"></i>清空文本</button></div>

      <div class="text-center mt-6"><button id="analyze-btn" class="analyze-btn w-full lg:w-auto px-12 py-4 text-white font-semibold rounded-lg flex items-center justify-center space-x-2 text-lg"><i class="fas fa-search"></i><span>明鉴一下</span></button></div>
      <div id="progress-section" class="hidden mt-6 p-4 bg-blue-50 rounded-lg">
        <div class="flex items-center space-x-3 mb-3"><div class="loading-spinner w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full"></div><span id="progress-text" class="text-blue-700 font-medium">正在获取网页内容...</span></div>
        <div class="w-full bg-blue-200 rounded-full h-2"><div id="progress-bar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div></div>
      </div>
    </div>

    <!-- SUMMARY -->
    <div id="summary-banner" class="analysis-card rounded-2xl p-6 hidden"><div class="flex items-center"><i class="fas fa-quote-left text-blue-500 mr-3"></i><span class="text-gray-700 font-medium">报告总结论：</span></div><p id="total-conclusion" class="text-gray-900 text-lg mt-2 leading-relaxed">正在生成结论…</p></div>

    <!-- 4D CARD -->
    <div id="four-dim-card" class="analysis-card rounded-2xl p-8 hidden">
      <h2 class="text-2xl font-bold text-gray-900 mb-4"><i class="fas fa-chart-line text-blue-500 mr-2"></i>四维分析</h2>
      <div class="flex items-center justify-between mb-4"><span id="badge-level" class="px-3 py-1 rounded-full text-sm font-semibold text-white bg-gradient-to-r from-blue-500 to-purple-600">A 级</span><span id="badge-text" class="text-sm text-gray-600">高可信度</span></div>
      <div class="space-y-3 text-sm">
        <div class="flex items-center justify-between"><span>情绪中立度</span><span id="eb-score" class="mono-font text-orange-600">0</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div id="eb-bar" class="bg-orange-500 h-2 rounded-full" style="width:0%"></div></div>
        <div class="flex items-center justify-between"><span>信源透明度</span><span id="ts-score" class="mono-font">0</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div id="ts-bar" class="bg-blue-600 h-2 rounded-full" style="width:0%"></div></div>
        <div class="flex items-center justify-between"><span>事实密度</span><span id="fd-score" class="mono-font">0</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div id="fd-bar" class="bg-green-600 h-2 rounded-full" style="width:0%"></div></div>
        <div class="flex items-center justify-between"><span>一致性</span><span id="cs-score" class="mono-font">0</span></div><div class="w-full bg-gray-200 rounded-full h-2"><div id="cs-bar" class="bg-purple-600 h-2 rounded-full" style="width:0%"></div></div>
      </div>
      <details class="mt-4"><summary class="text-sm text-gray-500 cursor-pointer hover:text-gray-700">展开雷达图</summary><div class="mt-2 h-64"><canvas id="radar-canvas"></canvas></div></details>
    </div>

    <!-- RESULTS -->
    <div id="results-section" class="hidden">
      <div class="grid lg:grid-cols-3 gap-8 mb-8">
        <div class="analysis-card rounded-2xl p-6 section-fact"><div class="flex items-center mb-4"><div class="w-3 h-3 bg-blue-600 rounded-full mr-3"></div><h3 class="text-lg font-semibold text-gray-900"><i class="fas fa-check-circle text-blue-600 mr-2"></i>哪些是事实</h3></div><div id="facts-list" class="space-y-2"><div class="text-sm text-gray-700 bg-blue-50 p-3 rounded-lg">正在分析事实内容...</div></div></div>
        <div class="analysis-card rounded-2xl p-6 section-opinion"><div class="flex items-center mb-4"><div class="w-3 h-3 bg-green-600 rounded-full mr-3"></div><h3 class="text-lg font-semibold text-gray-900"><i class="fas fa-lightbulb text-green-600 mr-2"></i>哪些是观点</h3></div><div id="opinions-list" class="space-y-2"><div class="text-sm text-gray-700 bg-green-50 p-3 rounded-lg">正在分析观点内容...</div></div></div>
        <div class="analysis-card rounded-2xl p-6 section-bias"><div class="flex items-center mb-4"><div class="w-3 h-3 bg-red-600 rounded-full mr-3"></div><h3 class="text-lg font-semibold text-gray-900"><i class="fas fa-exclamation-triangle text-red-600 mr-2"></i>是否有偏见</h3></div>
          <div class="space-y-3">
            <div class="flex justify-between items-center"><span class="text-sm text-gray-600">情绪化词汇</span><span id="emotional-words" class="mono-font font-medium text-red-600">分析中...</span></div>
            <div class="flex justify-between items-center"><span class="text-sm text-gray-600">二元对立</span><span id="binary-opposition" class="mono-font font-medium text-red-600">分析中...</span></div>
            <div class="flex justify-between items-center"><span class="text-sm text-gray-600">动机揣测</span><span id="motivation-guessing" class="mono-font font-medium text-red-600">分析中...</span></div>
            <div class="flex justify-between items-center"><span class="text-sm text-gray-600">整体倾向</span><span id="overall-tendency" class="mono-font font-medium text-green-600">分析中...</span></div>
          </div>
        </div>
      </div>
      <div class="grid lg:grid-cols-2 gap-8">
        <div class="analysis-card rounded-2xl p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4"><i class="fas fa-edit text-purple-500 mr-2"></i>对内容发布者的建议</h3><p id="publisher-recommendation" class="text-gray-700 leading-relaxed">正在生成专业建议...</p></div>
        <div class="analysis-card rounded-2xl p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4"><i class="fas fa-comments text-green-500 mr-2"></i>公关回应建议</h3><p id="pr-recommendation" class="text-gray-700 leading-relaxed">正在生成公关建议...</p></div>
      </div>
    </div>

    <!-- SAMPLE -->
    <div id="sample-section" class="text-center mt-12">
      <button id="sample-btn" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-medium transition-colors"><i class="fas fa-play mr-2"></i>查看示例分析</button>
    </div>
  </main>

  <footer class="bg-gray-50 border-t border-gray-200 mt-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center text-gray-600"><p class="mb-2">© 2024 FactLens 明鉴AI. 专业内容分析工具</p><p class="text-sm">Powered by AI | Designed for Truth</p></div>
  </footer>

  <!-- 内嵌 JS：镜像重试 + 超时 + 内容有效性检查 -->
  <script>
    /* ===== 镜像重试 + 超时 ===== */
    const mirrors = [
      url => `https://r.jina.ai/${encodeURIComponent(url)}?chunk_num=1&chunk_order=0&html=false`,
      url => `https://s.jina.ai/${encodeURIComponent(url)}`
    ];
    async function fetchText(url, maxTry = 2) {
      for (let i = 0; i < mirrors.length; i++) {
        try {
          const res = await fetch(mirrors[i](url), { signal: AbortSignal.timeout(8000) });
          if (res.ok) return await res.text();
        } catch (e) {
          if (i === mirrors.length - 1) throw e;
        }
      }
      return ''; // 兜底
    }

    /* ===== 内容有效性检查 ===== */
    function isValidBody(text) {
      if (!text) return false;
      if (text.length < 20) return false;
      const invalid = /完成验证后方可继续访问|百度安全验证|Sina Visitor System|请开启 JavaScript|访客验证|无法访问|403 Forbidden|404 Not Found|Access Denied|Please enable cookies/i;
      return !invalid.test(text);
    }

    /* ===== 调用同域边缘函数（无密钥） ===== */
    async function analyzeWithKimi(content, title) {
      const prompt = `【角色】你是明鉴AI，专做"事实-观点-偏见"三色拆解，风格犀利、简洁、中性。
【输入】Markdown正文如下：
${content}
【输出格式】
| 明鉴·FactLens 报告 |
|------------------|
| 标题：${title} |
| 可信度：X / 10（一句话理由） |

#### 事实区（≤5 条，每条≤25 字，必须可证伪）
1. xxx
...

#### 观点区（≤5 条，每条≤25 字，必须不可证伪）
1. xxx
...

#### 偏见指标
- 情绪化词汇：X 处
- 二元对立：X 组
- 动机揣测：X 处
- 整体倾向：批判/中性/赞扬 X%

#### 一句话摘要（≤40 字）
xxx

#### 对内容发布者的建议（≤60 字，必须可执行，禁止写"无"）
必须给出具体建议，不能写"暂无"或"无"。

#### 公关回应建议（≤60 字，必须可执行，禁止写"无"）
必须给出具体建议，不能写"暂无"或"无"。`;

      // ****** 仅改这里：同域边缘函数，无密钥 ******
      const res = await fetch('/api/analyze', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ content, title })
      });
      if (!res.ok) throw new Error('分析服务异常');
      const { markdown } = await res.json();
      return markdown;
    }

    const $ = id => document.getElementById(id);
    document.addEventListener('DOMContentLoaded', () => {
      const analyzeBtn = $('analyze-btn'), sampleBtn = $('sample-btn'), urlInput = $('url-input'), textInput = $('text-input'), progressSection = $('progress-section'), resultsSection = $('results-section'), fourDimCard = $('four-dim-card'), clearBtn = $('clear-btn'), clearTextBtn = $('clear-text-btn');

      function toggleBtn() {
        const u = urlInput.value.trim(), t = textInput.value.trim(), has = !!(u || t);
        analyzeBtn.disabled = !has;
        analyzeBtn.classList.toggle('opacity-50', !has);
        clearBtn.classList.toggle('hidden', !u);
        clearTextBtn.classList.toggle('hidden', !t);
      }
      urlInput.addEventListener('input', () => { if (urlInput.value) textInput.value = ''; toggleBtn(); });
      textInput.addEventListener('input', () => { if (textInput.value) urlInput.value = ''; toggleBtn(); });
      clearBtn.addEventListener('click', () => { urlInput.value = ''; toggleBtn(); urlInput.focus(); });
      clearTextBtn.addEventListener('click', () => { textInput.value = ''; toggleBtn(); textInput.focus(); });
      urlInput.addEventListener('paste', e => setTimeout(() => urlInput.dispatchEvent(new Event('input')), 0));

      analyzeBtn.addEventListener('click', startAnalysis);
      sampleBtn.addEventListener('click', () => { alert('示例功能已移除，请输入URL或粘贴文本进行真实分析。'); urlInput.focus(); });

      async function startAnalysis() {
        const url = urlInput.value.trim(), text = textInput.value.trim();
        if (!url && !text) return;
        progressSection.classList.remove('hidden');
        resultsSection.classList.add('hidden');
        fourDimCard.classList.add('hidden');
        $('summary-banner').classList.add('hidden');

        try {
          let content = '', title = '';
          if (url) {
            $('progress-text').textContent = '正在获取网页内容...';
            $('progress-bar').style.width = '20%';
            content = await fetchText(url);
            if (!isValidBody(content)) throw new Error('NO_VALID_BODY');
            const MAX_INPUT = 3500;
            if (content.length > MAX_INPUT) content = content.slice(0, MAX_INPUT) + '……';
            title = url;
          } else {
            $('progress-text').textContent = '正在处理文本内容...';
            $('progress-bar').style.width = '20%';
            content = text.slice(0, 3500);
            title = '直接粘贴的文本内容';
          }
          $('progress-text').textContent = 'AI深度分析中...';
          $('progress-bar').style.width = '60%';
          const kimiMd = await analyzeWithKimi(content, title);
          $('progress-text').textContent = '生成可信度报告...';
          $('progress-bar').style.width = '100%';
          displayResults(parseKimiResponse(kimiMd));
        } catch (err) {
          $('progress-text').textContent = '分析失败';
          $('progress-bar').style.width = '100%';
          $('total-conclusion').textContent =
            err.message === 'NO_VALID_BODY'
              ? '因网站设置原因，明鉴AI无法访问原始内容，请复制粘贴文本内容直接进行分析。'
              : '分析过程出现异常，请稍后重试。';
          $('summary-banner').classList.remove('hidden');
          resultsSection.classList.add('hidden');
          fourDimCard.classList.add('hidden');
          setTimeout(() => progressSection.classList.add('hidden'), 1500);
          return;
        }

        setTimeout(() => {
          progressSection.classList.add('hidden');
          resultsSection.classList.remove('hidden');
          fourDimCard.classList.remove('hidden');
          resultsSection.classList.add('fade-in');
          fourDimCard.classList.add('fade-in');
        }, 1000);
      }

      function parseKimiResponse(md) {
        const r = { title: '', credibility: 0, reason: '', facts: [], opinions: [], bias: { emotionalWords: 0, binaryOpposition: 0, motivationGuessing: 0, logicalFallacy: 0, overallTendency: '中性 0%' }, summaryForBanner: '', publisherRecommendation: '', recommendation: '' };
        const mCred = md.match(/可信度[:：]\s*(\d+(?:\.\d+)?)\s*\/\s*10\s*（(.+?)）/);
        if (mCred) { r.credibility = parseFloat(mCred[1]); r.reason = mCred[2]; }
        const mTitle = md.match(/标题[:：]\s*(.+?)(?:\n|\||$)/);
        if (mTitle) r.title = mTitle[1].trim();
        const fBlock = md.match(/#### 事实区[\s\S]*?(?=#### 观点区)/);
        if (fBlock) r.facts = fBlock[0].split('\n').filter(l => /^\d+\./.test(l)).map(l => l.replace(/^\d+\.\s*<fact>(.*)<\/fact>.*/, '$1').trim()).filter(Boolean);
        const oBlock = md.match(/#### 观点区[\s\S]*?(?=#### 偏见指标)/);
        if (oBlock) r.opinions = oBlock[0].split('\n').filter(l => /^\d+\./.test(l)).map(l => l.replace(/^\d+\.\s*<opinion>(.*)<\/opinion>.*/, '$1').trim()).filter(Boolean);
        const bBlock = md.match(/#### 偏见指标[\s\S]*?(?=#### 对内容发布者的建议)/);
        if (bBlock) {
          const b = bBlock[0];
          const emo = b.match(/情绪化词汇[:：]\s*(\d+)\s*处/);
          const bin = b.match(/二元对立[:：]\s*(\d+)\s*组/);
          const mot = b.match(/动机揣测[:：]\s*(\d+)\s*处/);
          const fall = b.match(/逻辑谬误[:：]\s*(\d+)\s*处/);
          const tend = b.match(/整体倾向[:：]\s*([\u4e00-\u9fa5]+\s*\d+%|\d+%\s*[\u4e00-\u9fa5]+)/);
          if (emo) r.bias.emotionalWords = parseInt(emo[1]);
          if (bin) r.bias.binaryOpposition = parseInt(bin[1]);
          if (mot) r.bias.motivationGuessing = parseInt(mot[1]);
          if (fall) r.bias.logicalFallacy = parseInt(fall[1]);
          if (tend) r.bias.overallTendency = tend[1].trim();
        }
        // ****** 仅改这里：不再强制“（≤80 字）”字样 ******
        const banner = md.match(/#### 报告总结论[\s\S]*?\n([\s\S]*?)(?=###|\|$$|\n*$|$)/);
        if (banner) r.summaryForBanner = banner[1].replace(/\s+/g,' ').trim();
        const pub = md.match(/#### 对内容发布者的建议[\s\S]*?\n【行动】\s*(.+?)\s*(?=####|$)/s);
        if (pub) r.publisherRecommendation = pub[1].replace(/\s+/g,' ').trim();
        const pr  = md.match(/#### 公关回应建议[\s\S]*?\n【回应要点】\s*(.+?)\s*(?=####|$)/s);
        if (pr) r.recommendation = pr[1].replace(/\s+/g,' ').trim();
        return r;
      }

      function displayResults(d) {
        // 1. 先写文字（永不失败）
        $('report-title').textContent = d.title || '分析文章';
        $('credibility-score').textContent = `${d.credibility || 8.5} / 10`;
        $('credibility-reason').textContent = d.reason || '内容分析完成';
        $('total-conclusion').textContent = d.summaryForBanner || '这是一篇' + (d.credibility >= 8 ? '客观中立' : d.credibility >= 6 ? '有失偏颇' : '不够客观') + '的报道。';

        // 2. 饼图容错（失败也不影响文字）
        try {
          createCredibilityChart(d.credibility || 8.5);
        } catch (e) {
          console.warn('饼图渲染失败', e);
          // 清空饼图区域，避免残留
          document.getElementById('credibility-chart').innerHTML = '';
        }

        // 3. 其余文字（永不失败）
        const factsList = document.getElementById('facts-list');
        factsList.innerHTML = d.facts.length ? d.facts.map((f, i) => `<div class="text-sm text-gray-700 bg-blue-50 p-3 rounded-lg">${i + 1}. ${f}</div>`).join('') : '<div class="text-sm text-gray-500">未检测到明确的事实陈述</div>';
        const opList = document.getElementById('opinions-list');
        opList.innerHTML = d.opinions.length ? d.opinions.map((o, i) => `<div class="text-sm text-gray-700 bg-green-50 p-3 rounded-lg">${i + 1}. ${o}</div>`).join('') : '<div class="text-sm text-gray-500">未检测到明确的观点表达</div>';
        $('emotional-words').textContent = d.bias.emotionalWords + ' 处';
        $('binary-opposition').textContent = d.bias.binaryOpposition + ' 组';
        $('motivation-guessing').textContent = d.bias.motivationGuessing + ' 处';
        $('overall-tendency').textContent = d.bias.overallTendency || '中性 0%';
        $('publisher-recommendation').textContent = d.publisherRecommendation || '建议提升内容质量';
        $('pr-recommendation').textContent = d.recommendation || '建议谨慎处理';
      }

      function drawRadar(data) {
        const ctx = document.getElementById('radar-canvas');
        if (window.radarInstance) window.radarInstance.destroy();
        window.radarInstance = new Chart(ctx, {
          type: 'radar',
          data: {
            labels: ['信源透明度', '事实密度', '情绪中立度', '一致性'],
            datasets: [{ label: '得分', data: data, backgroundColor: 'rgba(59, 130, 246, 0.2)', borderColor: 'rgba(59, 130, 246, 1)', pointBackgroundColor: 'rgba(59, 130, 246, 1)', pointBorderColor: '#fff', pointHoverBackgroundColor: '#fff', pointHoverBorderColor: 'rgba(59, 130, 246, 1)' }]
          },
          options: { scales: { r: { angleLines: false, suggestedMin: 0, suggestedMax: 10 } }, plugins: { legend: { display: false } } }
        });
      }
    });
  </script>
</body>
</html>
